/* ===== Modern result UI (result.html) ===== */

:root{
  --bg1:#0b1020;
  --bg2:#101a33;

  --card: rgba(255,255,255,.08);
  --card2: rgba(255,255,255,.06);
  --border: rgba(255,255,255,.14);

  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.72);

  --primary:#4f7cff;
  --primary-hover:#3c6df6;
  --ring: rgba(79,124,255,.45);

  --shadow: 0 18px 40px rgba(0,0,0,.35);
  --shadow-soft: 0 10px 22px rgba(0,0,0,.18);

  --radius: 16px;
}

*{ box-sizing: border-box; }
html, body{ height: 100%; }

body{
  margin: 0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
  color: var(--text);

  background:
    radial-gradient(900px 420px at 20% 10%, rgba(79,124,255,.25), transparent 60%),
    radial-gradient(700px 360px at 85% 25%, rgba(255,255,255,.10), transparent 55%),
    linear-gradient(160deg, var(--bg1), var(--bg2));

  min-height: 100dvh;
  padding: 18px 14px 60px;
}

/* ===== 戻る（ホームへ） ===== */
#modoru{
  position: fixed;
  top: 14px;
  left: 14px;
  z-index: 1000;
  margin: 0;
}

#modoru a{
  display: inline-flex;
  align-items: center;
  gap: 6px;

  padding: 10px 14px;
  border-radius: 999px;

  text-decoration: none;
  font-weight: 800;
  font-size: 14px;

  color: #fff;
  background: rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.35);

  box-shadow: 0 10px 22px rgba(0,0,0,.25);
  backdrop-filter: blur(6px);

  transition: transform .12s ease, background-color .12s ease;
}
#modoru a::before{
  font-size: 18px;
  line-height: 1;
}
#modoru a:hover{
  background: rgba(0,0,0,.75);
  transform: translateY(-1px);
}
#modoru a:focus-visible{
  outline: none;
  box-shadow: 0 0 0 4px var(--ring), 0 10px 22px rgba(0,0,0,.25);
}

/* ===== ページ幅（表が横に伸びすぎない） ===== */
body > *{
  max-width: 980px;
  margin-left: auto;
  margin-right: auto;
}

/* ===== タイトル ===== */
h1{
  text-align: center;

  font-size: clamp(22px, 3vw, 34px);
  font-weight: 900;
  letter-spacing: .04em;

  text-shadow: 0 10px 26px rgba(0,0,0,.35);
}

/* ===== 上位セクション見出し：＜基本情報＞＜予備診断＞ ===== */
.groupTitle{
  position: relative;
  margin: 32px 0 16px;
  padding: 18px 18px;

  border-radius: 20px;
  background: linear-gradient(135deg, rgba(79,124,255,.95), rgba(79,124,255,.72));
  color: #fff;
  font-weight: 900;
  letter-spacing: .05em;

  box-shadow: var(--shadow);
}

.groupTitle::before{
  content: "";
  position: absolute;
  left: 0;
  top: 14px;
  bottom: 14px;
  width: 6px;
  border-radius: 6px;
  background: rgba(255,255,255,.85);
}

/* ===== 表タイトル：１．基礎点項目 / ２．変状点項目 / ３．判定 ===== */
.tableTitle{
  margin: 20px 0 10px;
  padding: 10px 14px;

  border-radius: 14px;
  background: rgba(255,255,255,.06);
  border-left: 5px solid var(--primary);

  font-weight: 900;
  letter-spacing: .02em;
}

/* ===== 結果テーブル ===== */
.resultTable{
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;

  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: var(--radius);
  overflow: hidden;

  margin: 0 0 14px;
  font-size: 14px;
  box-shadow: var(--shadow-soft);
}

/* 罫線は“黒1px”より、柔らかい区切りに */
.resultTable th,
.resultTable td{
  padding: 10px 12px;
  vertical-align: top;
  border-bottom: 1px solid rgba(255,255,255,.10);
  border-right: 1px solid rgba(255,255,255,.08);
}

/* 最終列は右罫線なし */
.resultTable tr > *:last-child{
  border-right: none;
}

/* 最終行は下罫線なし */
.resultTable tr:last-child > *{
  border-bottom: none;
}

/* ヘッダー行 */
.resultTable .head{
  background: rgba(255,255,255,.10);
  font-weight: 900;
  text-align: center;
  letter-spacing: .02em;
}

/* 列幅（元の意図を維持） */
.resultTable td.label{ width: 22%; white-space: nowrap; font-weight: 800; color: rgba(255,255,255,.85); }
.resultTable td.text{ width: 53%; color: var(--text); }
.resultTable td.point{ width: 10%; text-align: center; white-space: nowrap; font-weight: 900; }
.resultTable td.note{ width: 15%; color: var(--muted); }

/* single（単体項目） */
.resultTable td.single{
  font-weight: 900;
}

/* sub（子項目）をインデント＋薄色 */
.resultTable td.sub{
  padding-left: 22px;
  color: rgba(255,255,255,.82);
}

/* category（カテゴリ行）を帯にして階層を明確化 */
.resultTable td.category{
  background: rgba(0,0,0,.18);
  font-weight: 900;
  color: rgba(255,255,255,.90);
  letter-spacing: .02em;
}

/* 合計行を強調 */
.resultTable td.totalLabel{
  text-align: center;
  font-weight: 900;
  background: rgba(255,255,255,.08);
}

.resultTable td.totalPoint{
  text-align: center;
  font-weight: 900;
  background: rgba(79,124,255,.18);
}

.resultTable td.totalNote{
  background: rgba(255,255,255,.08);
}

/* 判定（hanteiAreaの表が1列なので読みやすく） */
#hanteiArea .resultTable td.label{
  width: auto;
  white-space: normal;
}
/*真ん中のほうが見やすいかと思ったので寄せました*/
.center{
  margin-left: auto;
  margin-right: auto;
}
/*ダウンロード中演出系*/
.hide{
  display: none !important;
}
#downloading{
  margin-left: 8px;
  font-size: 16px;
  font-weight: 500; 
}

/* PDF出力用 */
.pdf-export, .pdf-export * {
  color: #000 !important;
  opacity: 1 !important;
  text-shadow: none !important;
  filter: none !important;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

.pdf-export .resultTable,
.pdf-export .resultTable th,
.pdf-export .resultTable td {
  border: 2px solid #000 !important;
}

.pdf-export .resultTable th {
  background: #fff !important;
  font-weight: 800 !important;
}

.pdf-export .groupTitle,
.pdf-export .tableTitle {
  color: #000 !important;
  font-weight: 900 !important;
}
/* モバイルで表が崩れにくいように */
@media (max-width: 640px){
  body{ padding-top: 64px; } /* 固定の戻るボタン分 */
  .resultTable{ font-size: 13px; }

  .resultTable td.label{ white-space: normal; }
  .resultTable td.sub{ padding-left: 16px; }
}

/* モーションが苦手な人向け */
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; }
}

/* ダウンロード中表示（スピナー付き） */
#downloading{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  margin-left: 8px;
  font-size: 16px;
  font-weight: 600;
}

/* ぐるぐるスピナー */
.spinner{
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 2px solid rgba(255,255,255,.35);
  border-top-color: rgba(255,255,255,.95);
  animation: spin 0.9s linear infinite;
}

@keyframes spin{
  to { transform: rotate(360deg); }
}

/* pdfダウンロードボタン（もっとボタンっぽく） */
#thepdf{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;

  font-size: 16px;
  font-weight: 800;
  letter-spacing: .02em;

  width: 210px;
  height: 52px;

  color: #fff;
  background: linear-gradient(135deg, orange, orange);
  border: 1px solid rgba(255,255,255,.25);
  border-radius: 999px;

  box-shadow:
    0 14px 26px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.25);

  cursor: pointer;
  user-select: none;

  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}

/* ホバーで「浮く」 */
#thepdf:hover{
  transform: translateY(-1px);
  filter: brightness(1.05);
  box-shadow:
    0 18px 32px rgba(0,0,0,.40),
    0 0 0 4px var(--ring),
    inset 0 1px 0 rgba(255,255,255,.25);
}

/* 押した瞬間の「沈む」 */
#thepdf:active{
  transform: translateY(1px);
  box-shadow:
    0 8px 16px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.15);
}

/* キーボード操作でも分かるフォーカスリング */
#thepdf:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 4px var(--ring),
    0 14px 26px rgba(0,0,0,.35);
}

/* ボタンが非活性中だと分かる見た目（既存を活かしつつ強化） */
#thepdf:disabled{
  opacity: .45;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
  filter: grayscale(.2);
}
#thepdf:disabled:hover{
  transform: none;
  filter: none;
}
